{"version":3,"sources":["component/navigation.js","component/conversation.js","component/sidebar.js","component/home.js","firebase.js","component/createuser.js","component/login.js","App.js","serviceWorker.js","index.js","image/phone.png"],"names":["Navigation","props","Grommet","theme","grommet","className","Header","background","pad","height","min","avatarmessage","Avatar","Box","direction","gap","Anchor","label","href","to","Conversation","React","useState","value","setValue","chatHistory","setChatHistory","messagesEndRef","useRef","useEffect","updateUserInfo","current","scrollIntoView","behavior","addConvo","addConvoObject","selecteduser","from","read","axios","post","then","res","console","log","length","testingFunction","catch","error","full","margin","overflow","style","marginRight","width","Heading","level","max","overflowY","overflowX","paddingRight","map","item","i","key","justify","Text","alignSelf","slice","toUpperCase","ref","TextArea","placeholder","onChange","event","target","resize","onKeyPress","e","which","shiftKey","Button","type","plain","onClick","Send","align","Chat","conversationHome","setConversationHome","suggestions","setSuggestion","sidebaruser","setsidebaruser","setSelectedUser","axiosGetAllUsers","axiosGetSideBarConvo","get","params","username","allusers","data","axiosFindConversation","passParams","user","axiosUpdateRemoveUnread","Sidebar","responsive","left","right","vertical","padding","Nav","reverse","icon","AddCircle","index","friend","fill","unread","Number","TextInput","onSelect","suggestion","global","font","family","size","App","textAlign","Image","fit","src","phoneImage","firebase","require","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createWithEmail","setCreateWithEmail","setData","message","setMessage","axiosPostCreateUser","newuser","axiosCheckDuplicate","email","newUser","applyGoogleAuthentication","a","provider","auth","GoogleAuthProvider","signInWithPopup","authResult","displayName","isgoogleauthenticate","applyEmail","Announcer","announce","mode","role","aria-live","Form","onSubmit","FormField","name","htmlfor","id","required","primary","Google","color","Mail","AnnounceContext","Consumer","Login","emailLogin","setEmailLogin","axiosCheckLogin","password","updateAvatar","userInfo","result","setAvatarMessage","setUpdateUserInfo","info","exact","path","render","isAuthed","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.35c718c4.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Grommet, Header, Avatar, Box, Anchor } from \"grommet\";\r\nimport { grommet } from \"grommet/themes\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport \"../App.scss\";\r\n\r\n// Add the Firebase products that you want to use\r\nfunction Navigation(props) {\r\n  return (\r\n    <Grommet theme={grommet} className=\"navigation\">\r\n      <Header background=\"brand\" pad=\"small\" height={{ min: \"72px\" }}>\r\n        {props.avatarmessage ? (\r\n          <Avatar background=\"accent-4\">{props.avatarmessage}</Avatar>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        <Box direction=\"row\" gap=\"medium\">\r\n          <Anchor\r\n            label=\"Project 6\"\r\n            href=\"https://flaviocopes.com/sample-app-ideas/\"\r\n            className=\"link\"\r\n          />\r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/login\">Login</Link>\r\n          <Link to=\"/createuser\">Create User</Link>\r\n          <Link to=\"/conversation\">Convo</Link>\r\n        </Box>\r\n      </Header>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { Grommet, TextArea, Button, Box, Heading, Text, Avatar } from \"grommet\";\r\nimport { grommet } from \"grommet/themes\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { Send } from \"grommet-icons\";\r\nimport \"../App.scss\";\r\nimport axios from \"axios\";\r\n\r\n// Add the Firebase products that you want to use\r\nfunction Conversation(props) {\r\n  const [value, setValue] = React.useState(\"\");\r\n  const [chatHistory, setChatHistory] = React.useState([]);\r\n  const messagesEndRef = useRef(null);\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current.scrollIntoView({ behavior: \"auto\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.updateUserInfo !== \"\") scrollToBottom();\r\n  }, [chatHistory]);\r\n\r\n  useEffect(() => {\r\n    setChatHistory(props.chatHistory);\r\n  }, [props.chatHistory]);\r\n\r\n  const addConvo = () => {\r\n    // add to axios to update the back end\r\n    let addConvoObject = {\r\n      to: props.selecteduser,\r\n      from: props.updateUserInfo,\r\n      read: false,\r\n      chatHistory: value,\r\n    };\r\n    //check if it's a new user\r\n    axios\r\n      .post(\"/conversation/addconversation\", addConvoObject)\r\n      .then((res) => {\r\n        console.log(props, \"props\");\r\n        console.log(\"props.updateUserInfo: \", props.updateUserInfo);\r\n        console.log(\" res.chatHistory: \", res.chatHistory);\r\n        console.log(res, \"res\");\r\n        if (props.updateUserInfo !== \"\" && res.chatHistory.length === 0) {\r\n          props.testingFunction(\"rerenderSidebar\");\r\n        }\r\n      })\r\n      .catch((error) => console.log(error, \"error\"));\r\n\r\n    // // after axios to update the conversation, rerender the sidebar\r\n    // if (props.updateUserInfo !== \"\" && chatHistory.length === 0) {\r\n    // }\r\n    // add to setChatHistory to update the front end\r\n    setChatHistory([...chatHistory, addConvoObject]);\r\n  };\r\n\r\n  const keypress = (e) => {\r\n    if (e.which == 13 && !e.shiftKey) {\r\n      addConvo();\r\n      setValue(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grommet theme={grommet}>\r\n      <Box\r\n        direction=\"column\"\r\n        full\r\n        margin=\"medium\"\r\n        className=\"conversation\"\r\n        overflow=\"hidden\"\r\n        style={{ marginRight: \"0 !importnat\" }}\r\n      >\r\n        <Box width=\"100%\" className=\"conversation-header\">\r\n          <Heading margin=\"none\" level={3}>\r\n            Conversation with: {props.selecteduser}\r\n          </Heading>\r\n        </Box>\r\n        {/* conversations left and right */}\r\n        {props.updateUserInfo !== \"\" ? (\r\n          <>\r\n            <Box\r\n              height={{\r\n                min: \"calc(100vh - 219px)\",\r\n                max: \"calc(100vh - 219px)\",\r\n              }}\r\n              overflow=\"scroll\"\r\n              style={{\r\n                overflowY: \"scroll\",\r\n                overflowX: \"hidden\",\r\n                paddingRight: \"5px\",\r\n              }}\r\n            >\r\n              {\r\n                // if username isn't the same then left + text\r\n                chatHistory.map((item, i) => (\r\n                  <Box\r\n                    key={i}\r\n                    height={{ min: \"auto\" }}\r\n                    style={{ margin: \"1px 0\" }}\r\n                  >\r\n                    {item.from === props.updateUserInfo ? (\r\n                      // rightside\r\n                      <Box direction=\"row\" justify=\"end\">\r\n                        <Text alignSelf=\"center\" margin=\"small\">\r\n                          {item.chatHistory}\r\n                        </Text>\r\n                        <Avatar background=\"accent-4\" className=\"avatar-convo\">\r\n                          {item.from.slice(0, 1).toUpperCase()}\r\n                        </Avatar>\r\n                      </Box>\r\n                    ) : (\r\n                      // left side\r\n                      <Box direction=\"row\">\r\n                        <Avatar background=\"brand\" className=\"avatar-convo\">\r\n                          {item.from.slice(0, 1).toUpperCase()}\r\n                        </Avatar>\r\n                        <Text alignSelf=\"center\" margin=\"small\">\r\n                          {item.chatHistory}\r\n                        </Text>\r\n                      </Box>\r\n                    )}\r\n                  </Box>\r\n                ))\r\n              }\r\n              <div ref={messagesEndRef} />\r\n            </Box>\r\n            <Box direction=\"row\">\r\n              <TextArea\r\n                placeholder=\"type here\"\r\n                value={value}\r\n                onChange={(event) => setValue(event.target.value)}\r\n                resize={false}\r\n                onKeyPress={keypress}\r\n              />\r\n              <Box pad=\"small\" alignSelf=\"center\" justify=\"center\">\r\n                <Button\r\n                  type=\"submit\"\r\n                  gap=\"medium\"\r\n                  plain\r\n                  onClick={() => {\r\n                    addConvo();\r\n                    setValue(\"\");\r\n                  }}\r\n                  plain\r\n                  icon={<Send />}\r\n                />\r\n              </Box>\r\n            </Box>\r\n          </>\r\n        ) : (\r\n          <Box\r\n            height={{ min: \"calc(100vh - 238px)\", max: \"calc(100vh - 250px)\" }}\r\n            justify=\"center\"\r\n            width=\"100%\"\r\n            align=\"center\"\r\n          >\r\n            <Heading margin=\"none\" level={3}>\r\n              Looks like you're not logged in\r\n            </Heading>\r\n            <Link to=\"/login\">Log In</Link>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default Conversation;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grommet, Sidebar, Box, Nav, Button, TextInput, Text } from \"grommet\";\r\nimport { grommet } from \"grommet/themes\";\r\nimport { AddCircle } from \"grommet-icons\";\r\nimport Conversation from \"./conversation\";\r\nimport axios from \"axios\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\n// Add the Firebase products that you want to use\r\nfunction Chat(props) {\r\n  const [conversationHome, setConversationHome] = useState(false);\r\n  const [suggestions, setSuggestion] = useState([]);\r\n  const [sidebaruser, setsidebaruser] = useState([]);\r\n  const [selecteduser, setSelectedUser] = useState([]);\r\n  const [chatHistory, setChatHistory] = useState([]);\r\n  const [value, setValue] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // axios get for all the usernames on the databse -> set onto a list for the suggestions\r\n    axiosGetAllUsers();\r\n    if (props.updateUserInfo !== \"\") axiosGetSideBarConvo();\r\n  }, []);\r\n\r\n  const axiosGetAllUsers = () => {\r\n    axios\r\n      .get(\"/user/allusers/\", {\r\n        params: { username: props.updateUserInfo },\r\n      })\r\n      .then((res) => {\r\n        let allusers = res.data.map((item) => item.username);\r\n        setSuggestion(allusers);\r\n      })\r\n      .catch((error) => console.log(error, \"axioserrors\"));\r\n  };\r\n\r\n  // const suggestions = Array(100)\r\n  //     .fill()\r\n  //     .map((_, i) => `suggestion ${i + 1}`);\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  const onSelect = (event) => {\r\n    setValue(event.suggestion);\r\n    setSelectedUser(event.suggestion);\r\n    setConversationHome(true);\r\n    axiosFindConversation(event.suggestion);\r\n    setValue(\"\");\r\n  };\r\n\r\n  const axiosFindConversation = (username) => {\r\n    const passParams = {\r\n      to: username,\r\n      from: props.updateUserInfo,\r\n    };\r\n    axios\r\n      .get(\"/conversation/selectedconvo\", {\r\n        params: passParams,\r\n      })\r\n      .then((res) => {\r\n        setChatHistory(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error, \"not able to find user \");\r\n      });\r\n  };\r\n\r\n  const axiosGetSideBarConvo = () => {\r\n    const user = { user: props.updateUserInfo };\r\n    axios\r\n      .get(\"/conversation/friends\", { params: user })\r\n      .then((res) => {\r\n        setsidebaruser(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error, \"error\");\r\n      });\r\n  };\r\n\r\n  // rerender sidebar\r\n  let testingFunction = (value = null) => {\r\n    if (value) {\r\n      axiosGetSideBarConvo();\r\n    }\r\n  };\r\n\r\n  const axiosUpdateRemoveUnread = (username) => {\r\n    const passParams = {\r\n      to: username,\r\n      from: props.updateUserInfo,\r\n    };\r\n    axios\r\n      .post(\"/conversation/updateunread\", passParams)\r\n      .then((res) => {\r\n        // console.log(res.data, \"resdatupdateread\");\r\n      })\r\n      .catch((error) => console.log(error, \"errroraxios\"));\r\n  };\r\n\r\n  return (\r\n    <Grommet theme={grommet}>\r\n      <Box direction=\"row\" height={{ min: \"calc(100vh - 72px)\" }}>\r\n        <Sidebar\r\n          responsive={false}\r\n          background=\"brand\"\r\n          pad={{ left: \"medium\", right: \"large\", vertical: \"medium\" }}\r\n          style={{ padding: \"0px\", width: \"600px\" }}\r\n        >\r\n          <Nav gap=\"large\" responsive={false}>\r\n            <Box\r\n              pad=\"small\"\r\n              style={{ height: \"calc(100% - 226px)\", overflowY: \"scroll\" }}\r\n            >\r\n              <Button\r\n                gap=\"medium\"\r\n                alignSelf=\"start\"\r\n                plain\r\n                label=\"Add convo\"\r\n                reverse\r\n                icon={<AddCircle />}\r\n                onClick={() => {\r\n                  setConversationHome(false);\r\n                }}\r\n              />\r\n              {sidebaruser.length > 0 &&\r\n                sidebaruser.map((item, index) => (\r\n                  <Box\r\n                    direction=\"row\"\r\n                    justify=\"between\"\r\n                    className=\"sidebar-item\"\r\n                  >\r\n                    <Button\r\n                      className=\"sidebar-button\"\r\n                      gap=\"medium\"\r\n                      alignSelf=\"start\"\r\n                      plain\r\n                      label={`${item.friend} `}\r\n                      reverse\r\n                      fill\r\n                      onClick={({ value }) => {\r\n                        setSelectedUser(item.friend);\r\n                        setConversationHome(true);\r\n                        axiosFindConversation(item.friend);\r\n                        sidebaruser[index].unread = 0;\r\n                        axiosUpdateRemoveUnread(item.friend);\r\n                      }}\r\n                    />\r\n                    {Number(item.unread) > 0 && (\r\n                      <Button\r\n                        gap=\"medium\"\r\n                        alignSelf=\"start\"\r\n                        plain\r\n                        label={item.unread}\r\n                        reverse\r\n                        pad=\"small\"\r\n                        onClick={({ value }) => {\r\n                          setSelectedUser(item.friend);\r\n                          setConversationHome(true);\r\n                          axiosFindConversation(item.friend);\r\n                          // remove the number\r\n                          sidebaruser[index].unread = 0;\r\n                          axiosUpdateRemoveUnread(item.friend);\r\n                          // update the axios call\r\n                        }}\r\n                      />\r\n                    )}\r\n                  </Box>\r\n                ))}\r\n            </Box>\r\n          </Nav>\r\n        </Sidebar>\r\n        <Box full width={{ min: \"calc(100% - 230px)\" }}>\r\n          {conversationHome > 0 ? (\r\n            <Conversation\r\n              selecteduser={selecteduser}\r\n              updateUserInfo={props.updateUserInfo}\r\n              chatHistory={chatHistory}\r\n              testingFunction={testingFunction}\r\n            />\r\n          ) : (\r\n            <Box width={{ min: \"100%\" }} pad=\"large\">\r\n              <Text>Start a conversation here, select a person ðŸ’¬ </Text>\r\n              <TextInput\r\n                value={value}\r\n                onChange={onChange}\r\n                onSelect={onSelect}\r\n                suggestions={suggestions}\r\n                className=\"dropdown-convo\"\r\n              />\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport { Grommet, Heading, Box, Image } from \"grommet\";\r\nimport { Link } from \"react-router-dom\";\r\nimport phoneImage from \"../image/phone.png\";\r\nimport \"../App.scss\";\r\n\r\nconst theme = {\r\n  global: {\r\n    font: {\r\n      family: \"Roboto\",\r\n      size: \"18px\",\r\n      height: \"20px\",\r\n    },\r\n  },\r\n};\r\n\r\n// Add the Firebase products that you want to use\r\nfunction App() {\r\n  return (\r\n    <Grommet theme={theme}>\r\n      <Box\r\n        direction=\"row\"\r\n        height={{ min: \"calc(100vh - 72px)\" }}\r\n        justify=\"center\"\r\n        align=\"center\"\r\n        pad=\"medium\"\r\n        textAlign=\"center\"\r\n      >\r\n        <Box\r\n          justify=\"center\"\r\n          direction=\"column\"\r\n          textAlign=\"center\"\r\n          className=\"createuser\"\r\n        >\r\n          <Heading margin=\"none\" level={3}>\r\n            ChatApp, click here to get started\r\n          </Heading>\r\n          <Link to=\"/createuser\">Create User</Link>\r\n        </Box>\r\n        <Box height=\"medium\">\r\n          <Image fit=\"contain\" src={phoneImage} />\r\n        </Box>\r\n      </Box>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// import firebase from 'firebase'\r\nvar firebase = require(\"firebase/app\");\r\nrequire(\"firebase/auth\");\r\nrequire(\"firebase/firestore\");\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyBEE2-LZbh-BA_ZevH0FoANZ11-A7o9E1M\",\r\n    authDomain: \"chatapp-befa6.firebaseapp.com\",\r\n    databaseURL: \"https://chatapp-befa6.firebaseio.com\",\r\n    projectId: \"chatapp-befa6\",\r\n    storageBucket: \"chatapp-befa6.appspot.com\",\r\n    messagingSenderId: \"337625400601\",\r\n    appId: \"1:337625400601:web:cd8d7583825c47f2557188\",\r\n    measurementId: \"G-8TEHGK6E0V\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nexport default firebase;","import React from \"react\";\r\nimport {\r\n  Grommet,\r\n  AnnounceContext,\r\n  Button,\r\n  Box,\r\n  Form,\r\n  FormField,\r\n  TextInput,\r\n  Text,\r\n  Heading,\r\n} from \"grommet\";\r\nimport { grommet } from \"grommet/themes\";\r\nimport { Google, Mail } from \"grommet-icons\";\r\nimport firebase from \"../firebase.js\";\r\nimport axios from \"axios\";\r\nimport \"../App.scss\";\r\n\r\n// Add the Firebase products that you want to use\r\nfunction App() {\r\n  const [createWithEmail, setCreateWithEmail] = React.useState(false);\r\n  const [data, setData] = React.useState(null);\r\n  const [message, setMessage] = React.useState(\"\");\r\n\r\n  const axiosPostCreateUser = (newuser) => {\r\n    return axios.post(\"/user/createuser\", newuser);\r\n  };\r\n  // const axiosPostCreateUser = (newuser) => {\r\n  //     return axios.post('/user/createuser', newuser)\r\n  //         .then(res => { setMessage('User Created')})\r\n  //         .catch(error => {\r\n  //\r\n  //             setMessage('incorrect info')\r\n  //         })\r\n  // }\r\n\r\n  const axiosCheckDuplicate = (email, username, newUser) => {\r\n    return axios.get(\"/user/checkemail\", { params: { email, username } });\r\n  };\r\n\r\n  const applyGoogleAuthentication = async () => {\r\n    setCreateWithEmail(false);\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const auth = firebase.auth();\r\n    try {\r\n      const authResult = await auth.signInWithPopup(provider);\r\n      const user = authResult.user;\r\n      let newUser = {\r\n        username: user.displayName,\r\n        email: user.email,\r\n        isgoogleauthenticate: true,\r\n      };\r\n      setData(newUser);\r\n      const checkResult = await axiosCheckDuplicate(\r\n        newUser.email,\r\n        newUser.displayName,\r\n        newUser\r\n      );\r\n\r\n      if (checkResult.data.length === 0) {\r\n        try {\r\n          const createResult = await axiosPostCreateUser(newUser);\r\n          setMessage(\"User Created\");\r\n        } catch (err) {\r\n          setMessage(\"incorrect info\");\r\n        }\r\n      } else {\r\n        setMessage(\"Email or Username already used\");\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  const applyEmail = async (value) => {\r\n    const newUser = value;\r\n    newUser.isgoogleauthenticate = false;\r\n    try {\r\n      setData(newUser);\r\n      const checkResult = await axiosCheckDuplicate(\r\n        newUser.email,\r\n        newUser.username,\r\n        newUser\r\n      );\r\n\r\n      if (checkResult.data.length === 0) {\r\n        try {\r\n          const createResult = await axiosPostCreateUser(newUser);\r\n          setMessage(\"User Created\");\r\n        } catch (err) {\r\n          setMessage(\"incorrect info\");\r\n        }\r\n      } else {\r\n        setMessage(\"Email or Username already used\");\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  const Announcer = ({ announce, message, mode, role }) => {\r\n    React.useEffect(() => {\r\n      const timeout = 5000;\r\n      announce(message, mode, timeout);\r\n    }, [announce, message, mode]);\r\n\r\n    return (\r\n      <Text align=\"center\" role={role} aria-live={mode}>\r\n        {message}\r\n      </Text>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Grommet theme={grommet}>\r\n      <Box\r\n        direction=\"column\"\r\n        height={{ min: \"calc(100vh - 72px)\" }}\r\n        justify=\"center\"\r\n        align=\"center\"\r\n        className=\"createuser\"\r\n      >\r\n        <Heading margin=\"none\" level={3} margin=\"small\">\r\n          Create User\r\n        </Heading>\r\n        {createWithEmail ? (\r\n          <Form\r\n            onSubmit={({ value }) => {\r\n              applyEmail(value);\r\n            }}\r\n          >\r\n            <FormField name=\"username\" htmlfor=\"textinput-id\" label=\"Username\">\r\n              <TextInput id=\"textinput-id\" name=\"username\" required />\r\n            </FormField>\r\n            <FormField name=\"password\" htmlfor=\"textinput-id\" label=\"Password\">\r\n              <TextInput id=\"textinput-id\" name=\"password\" required />\r\n            </FormField>\r\n            <FormField name=\"email\" htmlfor=\"textinput-id\" label=\"Email\">\r\n              <TextInput id=\"textinput-id\" name=\"email\" required />\r\n            </FormField>\r\n            <Box direction=\"row\" gap=\"medium\">\r\n              <Button type=\"submit\" primary label=\"Submit\" />\r\n              <Button type=\"reset\" label=\"Reset\" />\r\n            </Box>\r\n          </Form>\r\n        ) : (\r\n          <>\r\n            <Box width={{ min: \"250px\" }} pad=\"small\">\r\n              <Button\r\n                fill\r\n                label=\"Create with Google\"\r\n                onClick={() => {\r\n                  applyGoogleAuthentication();\r\n                }}\r\n                icon={<Google color=\"plain\" size=\"medium\" />}\r\n              />\r\n            </Box>\r\n            <Box width={{ min: \"250px\" }}>\r\n              <Button\r\n                gap=\"13px\"\r\n                fill\r\n                label=\"Create with Email\"\r\n                onClick={({ value }) => {\r\n                  setCreateWithEmail(true);\r\n                }}\r\n                icon={<Mail color=\"plain\" size=\"medium\" />}\r\n              />\r\n            </Box>\r\n          </>\r\n        )}\r\n        <Box height={{ min: \"100px\" }} pad=\"medium\">\r\n          {data && (\r\n            <AnnounceContext.Consumer>\r\n              {(announce) => (\r\n                <Announcer\r\n                  announce={announce}\r\n                  message={message}\r\n                  mode=\"polite\"\r\n                  role=\"alert\"\r\n                />\r\n              )}\r\n            </AnnounceContext.Consumer>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Grommet,\r\n  AnnounceContext,\r\n  Button,\r\n  Box,\r\n  Form,\r\n  FormField,\r\n  TextInput,\r\n  Text,\r\n  Heading,\r\n} from \"grommet\";\r\nimport { grommet } from \"grommet/themes\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport firebase from \"../firebase.js\";\r\nimport axios from \"axios\";\r\nimport { Google, Mail } from \"grommet-icons\";\r\nimport \"../App.scss\";\r\n\r\nconst theme = {\r\n  global: {\r\n    font: {\r\n      family: \"Roboto\",\r\n      size: \"18px\",\r\n      height: \"20px\",\r\n    },\r\n  },\r\n};\r\n\r\n// Add the Firebase products that you want to use\r\nfunction Login(props) {\r\n  const [emailLogin, setEmailLogin] = React.useState(false);\r\n  const [data, setData] = React.useState(null);\r\n  const [message, setMessage] = React.useState(\"\");\r\n  useEffect(() => {}, [data]);\r\n\r\n  const axiosCheckLogin = (isgoogleauthenticate, email, password) => {\r\n    if (password) {\r\n      // check email authentication\r\n      axios\r\n        .get(\"/user/checkemail\", {\r\n          params: { email, isgoogleauthenticate, password },\r\n        })\r\n        .then((res) => {\r\n          // update avatar\r\n          // update message\r\n          // update username and email\r\n          if (res.data.length !== 0) {\r\n            setMessage(\"Logged In\");\r\n            props.updateAvatar(res.data[0].username.slice(0, 1).toUpperCase());\r\n            props.userInfo(res.data[0].username);\r\n          } else {\r\n            setMessage(\"Account Not Found\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      // check google authentication only\r\n      axios\r\n        .get(\"/user/checkemail\", { params: { email, isgoogleauthenticate } })\r\n        .then((res) => {\r\n          if (res.data.length !== 0) {\r\n            setMessage(\"Logged In\");\r\n            props.updateAvatar(res.data[0].username.slice(0, 1).toUpperCase());\r\n            props.userInfo(res.data[0].username);\r\n          } else {\r\n            setMessage(\"Account Not Found\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  //on click apply\r\n  const applyGoogleAuthentication = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const auth = firebase.auth();\r\n    auth\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        // able to sign in with google\r\n        const user = result.user;\r\n        const newUser = {\r\n          username: user.displayName,\r\n          email: user.email,\r\n          isgoogleauthenticate: true,\r\n        };\r\n        setData(newUser);\r\n        axiosCheckLogin(true, user.email);\r\n      })\r\n      .catch(\r\n        // not able to signin\r\n        (error) => {\r\n          console.log(error, \"error\");\r\n        }\r\n      );\r\n  };\r\n\r\n  const applyEmail = (value) => {\r\n    const newUser = value;\r\n    newUser.isgoogleauthenticate = false;\r\n    setData(newUser);\r\n    axiosCheckLogin(false, value.email, value.password);\r\n  };\r\n\r\n  const Announcer = ({ announce, message, mode, role }) => {\r\n    React.useEffect(() => {\r\n      const timeout = 5000;\r\n      announce(message, mode, timeout);\r\n    }, [announce, message, mode]);\r\n\r\n    return (\r\n      <Text align=\"center\" role={role} aria-live={mode}>\r\n        {message}\r\n      </Text>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Grommet theme={grommet}>\r\n      <Box\r\n        direction=\"column\"\r\n        height={{ min: \"calc(100vh - 72px)\" }}\r\n        justify=\"center\"\r\n        align=\"center\"\r\n        className=\"login\"\r\n      >\r\n        <Heading margin=\"none\" level={3} margin=\"small\">\r\n          Login\r\n        </Heading>\r\n        {emailLogin ? (\r\n          <Form\r\n            onSubmit={({ value }) => {\r\n              applyEmail(value);\r\n            }}\r\n          >\r\n            <FormField name=\"email\" htmlfor=\"textinput-id\" label=\"Email\">\r\n              <TextInput id=\"textinput-id\" name=\"email\" required />\r\n            </FormField>\r\n            <FormField name=\"password\" htmlfor=\"textinput-id\" label=\"Password\">\r\n              <TextInput id=\"textinput-id\" name=\"password\" required />\r\n            </FormField>\r\n            <Box direction=\"row\" gap=\"medium\">\r\n              <Button type=\"submit\" primary label=\"Submit\" />\r\n              <Button type=\"reset\" label=\"Reset\" />\r\n            </Box>\r\n          </Form>\r\n        ) : (\r\n          <>\r\n            <Box width={{ min: \"250px\" }} margin=\"small\">\r\n              <Button\r\n                fill\r\n                label=\"Login with Google\"\r\n                onClick={() => {\r\n                  applyGoogleAuthentication();\r\n                }}\r\n                icon={<Google color=\"plain\" size=\"medium\" />}\r\n              />\r\n            </Box>\r\n            <Box width={{ min: \"250px\" }}>\r\n              <Button\r\n                fill\r\n                gap=\"13px\"\r\n                label=\"Login with Email\"\r\n                onClick={({ value }) => {\r\n                  setEmailLogin(true);\r\n                }}\r\n                icon={<Mail color=\"plain\" size=\"medium\" />}\r\n              />\r\n            </Box>\r\n          </>\r\n        )}\r\n        <Box height={{ min: \"100px\" }} pad=\"medium\">\r\n          {data && (\r\n            <AnnounceContext.Consumer>\r\n              {(announce) => (\r\n                <Announcer\r\n                  announce={announce}\r\n                  message={message}\r\n                  mode=\"polite\"\r\n                  role=\"alert\"\r\n                />\r\n              )}\r\n            </AnnounceContext.Consumer>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\nimport \"./App.css\";\n// Firebase App (the core Firebase SDK) is always required and\n// must be listed before other Firebase SDKs\nimport Navigation from \"./component/navigation\";\nimport Chat from \"./component/sidebar\";\nimport Home from \"./component/home\";\nimport CreateUser from \"./component/createuser\";\nimport Login from \"./component/login\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n// Add the Firebase products that you want to use\nfunction App() {\n  const [avatarmessage, setAvatarMessage] = useState(\"\");\n  const [updateUserInfo, setUpdateUserInfo] = useState(\"\");\n\n  let updateAvatar = (value) => {\n    setAvatarMessage(value);\n  };\n\n  let userInfo = (info) => {\n    setUpdateUserInfo(info);\n  };\n\n  return (\n    <Router>\n      <Navigation avatarmessage={avatarmessage} />\n      <Route\n        exact\n        path=\"/\"\n        render={(props) => (\n          <Home {...props} avatarmessage={avatarmessage} isAuthed={true} />\n        )}\n      />\n      <Route\n        path=\"/createuser\"\n        render={(props) => <CreateUser {...props} isAuthed={true} />}\n      />\n      <Route\n        path=\"/login\"\n        render={(props) => (\n          <Login\n            {...props}\n            updateAvatar={updateAvatar}\n            userInfo={userInfo}\n            isAuthed={true}\n          />\n        )}\n      />\n      <Route\n        path=\"/conversation\"\n        render={(props) => (\n          <Chat {...props} isAuthed={true} updateUserInfo={updateUserInfo} />\n        )}\n      />\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/phone.654828f4.png\";"],"sourceRoot":""}